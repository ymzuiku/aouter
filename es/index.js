var k=Object.prototype.hasOwnProperty;var g=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable;var w=Object.assign;var b=(o,t)=>{var r={};for(var e in o)k.call(o,e)&&t.indexOf(e)<0&&(r[e]=o[e]);if(o!=null&&g)for(var e of g(o))t.indexOf(e)<0&&h.call(o,e)&&(r[e]=o[e]);return r};import{useLocation as T}from"wouter";var i={onlyUseReplace:!1,basePrefetchTime:0};import{useRef as E,useLayoutEffect as A}from"react";import f from"querystring-number";var l=[],s={},m=()=>{let[o,t]=T(),r=E({});return A(()=>{r.current=f.parse(window.location.search)||{}},[window.location.search]),{localtion:o,params:r.current,prefetch:e=>{let n=s[e];n&&n.fn()},replace:(e,n)=>{typeof window!="undefined"&&(n&&(e+="?"+f.stringify(n)),t(e,{replace:!0}))},push:(e,n)=>{typeof window!="undefined"&&(n&&(e+="?"+f.stringify(n)),l.push({url:e,top:window.scrollY}),i.onlyUseReplace?t(e,{replace:!0}):t(e,{replace:!1}))},back:()=>{if(typeof window=="undefined")return;l.pop();let e=l.pop()||{top:0,url:"/"};i.onlyUseReplace?(t(e.url,{replace:!0}),setTimeout(()=>{window.scrollTo({top:e.top})})):history.back()}}};import p,{lazy as P,Suspense as R}from"react";import{Route as z}from"wouter";var F=p.createElement("div",{style:{all:"unset"}}),M=({path:o,component:t,loading:r})=>{let e=s[o];return e||(s[o]={fn:t,Comp:P(t)},e=s[o]),p.createElement(z,{path:o},p.createElement(R,{fallback:F},p.createElement(e.Comp,null)))};import U,{useEffect as q}from"react";var v=y=>{var{href:o,params:t,replace:r,onMouseEnter:e,onClick:n,onTouchEnd:H,onMouseUp:S,type:W,className:x,prefetch:a}=y,C=b(y,["href","params","replace","onMouseEnter","onClick","onTouchEnd","onMouseUp","type","className","prefetch"]);a===void 0&&(a=i.basePrefetchTime);let u=m();function L(c){e&&e(c),u.prefetch(o)}function d(c){n&&n(c),o==="back"?u.back():r?u.replace(o,t):u.push(o,t)}return q(()=>{a&&a>0&&setTimeout(()=>{u.prefetch(o)},a)},[]),U.createElement("button",w({type:"button",className:"focus:outline-none "+x,onTouchEnd:d,onMouseUp:d,onMouseEnter:L},C))};export{M as Aoute,v as Link,i as aouterConfig,s as lazyCache,m as useAoute};
