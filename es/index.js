var R=Object.prototype.hasOwnProperty;var w=Object.getOwnPropertySymbols,C=Object.prototype.propertyIsEnumerable;var b=Object.assign;var h=(o,t)=>{var n={};for(var e in o)R.call(o,e)&&t.indexOf(e)<0&&(n[e]=o[e]);if(o!=null&&w)for(var e of w(o))t.indexOf(e)<0&&C.call(o,e)&&(n[e]=o[e]);return n};import{useLocation as P}from"wouter";var s={onlyUseReplace:!1,autoPrefetch:!1,basePrefetchTime:500};import{useRef as T,useLayoutEffect as E}from"react";import p from"querystring-number";var u=[],i={},f=()=>{let[o,t]=P(),n=T({});return E(()=>{n.current=p.parse(window.location.search)||{}},[window.location.search]),{localtion:o,params:n.current,prefetch:e=>{let r=i[e];r&&r()},replace:(e,r)=>{typeof window!="undefined"&&(r&&(e+="?"+p.stringify(r)),t(e,{replace:!0}))},push:(e,r)=>{typeof window!="undefined"&&(r&&(e+="?"+p.stringify(r)),u.push({url:e,top:window.scrollY}),s.onlyUseReplace?t(e,{replace:!0}):t(e,{replace:!1}))},back:()=>{if(typeof window=="undefined")return;u.pop();let e=u.pop()||{top:0,url:"/"};s.onlyUseReplace?(t(e.url,{replace:!0}),setTimeout(()=>{window.scrollTo({top:e.top})})):history.back()}}};import{lazy as A,Suspense as F}from"react";import{Route as z}from"wouter";var M=React.createElement("div",{style:{all:"unset"}}),U=({path:o,component:t,loading:n})=>{let e=i[o];return e||(i[o]=A(t),e=i[o]),React.createElement(z,{path:o},React.createElement(F,{fallback:M},React.createElement(e,null)))};import{useEffect as H}from"react";var q=g=>{var{href:o,as:t,locale:n,scroll:e,replace:r,onMouseEnter:l,onClick:m,onTouchEnd:S,onMouseUp:W,type:v,className:x,prefetch:y=s.basePrefetchTime}=g,L=h(g,["href","as","locale","scroll","replace","onMouseEnter","onClick","onTouchEnd","onMouseUp","type","className","prefetch"]);let a=f();function k(c){l&&l(c),a.prefetch(o)}function d(c){m&&m(c),o==="back"?a.back():a.push(o)}return H(()=>{s.autoPrefetch&&y>0&&setTimeout(()=>{a.prefetch(o)},y)},[]),React.createElement("button",b({type:"button",className:"focus:outline-none "+x,onTouchEnd:d,onMouseUp:d,onMouseEnter:k},L))};export{U as Aoute,q as Link,s as config,i as lazyCache,f as useAoute};
