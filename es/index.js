var P=Object.prototype.hasOwnProperty;var b=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable;var h=Object.assign;var x=(o,t)=>{var n={};for(var e in o)P.call(o,e)&&t.indexOf(e)<0&&(n[e]=o[e]);if(o!=null&&b)for(var e of b(o))t.indexOf(e)<0&&T.call(o,e)&&(n[e]=o[e]);return n};import{useLocation as E}from"wouter";var s={onlyUseReplace:!1,autoPrefetch:!1,basePrefetchTime:500};import{useRef as A,useLayoutEffect as F}from"react";import u from"querystring-number";var f=[],i={},l=()=>{let[o,t]=E(),n=A({});return F(()=>{n.current=u.parse(window.location.search)||{}},[window.location.search]),{localtion:o,params:n.current,prefetch:e=>{let r=i[e];r&&r()},replace:(e,r)=>{typeof window!="undefined"&&(r&&(e+="?"+u.stringify(r)),t(e,{replace:!0}))},push:(e,r)=>{typeof window!="undefined"&&(r&&(e+="?"+u.stringify(r)),f.push({url:e,top:window.scrollY}),s.onlyUseReplace?t(e,{replace:!0}):t(e,{replace:!1}))},back:()=>{if(typeof window=="undefined")return;f.pop();let e=f.pop()||{top:0,url:"/"};s.onlyUseReplace?(t(e.url,{replace:!0}),setTimeout(()=>{window.scrollTo({top:e.top})})):history.back()}}};import c,{lazy as R,Suspense as z}from"react";import{Route as M}from"wouter";var U=c.createElement("div",{style:{all:"unset"}}),H=({path:o,component:t,loading:n})=>{let e=i[o];return e||(i[o]=R(t),e=i[o]),c.createElement(M,{path:o},c.createElement(z,{fallback:U},c.createElement(e,null)))};import q,{useEffect as S}from"react";var W=d=>{var{href:o,as:t,locale:n,scroll:e,replace:r,onMouseEnter:m,onClick:y,onTouchEnd:v,onMouseUp:B,type:N,className:C,prefetch:g=s.basePrefetchTime}=d,L=x(d,["href","as","locale","scroll","replace","onMouseEnter","onClick","onTouchEnd","onMouseUp","type","className","prefetch"]);let a=l();function k(p){m&&m(p),a.prefetch(o)}function w(p){y&&y(p),o==="back"?a.back():a.push(o)}return S(()=>{s.autoPrefetch&&g>0&&setTimeout(()=>{a.prefetch(o)},g)},[]),q.createElement("button",h({type:"button",className:"focus:outline-none "+C,onTouchEnd:w,onMouseUp:w,onMouseEnter:k},L))};export{H as Aoute,W as Link,s as aouterConfig,i as lazyCache,l as useAoute};
