var h=Object.prototype.hasOwnProperty;var g=Object.getOwnPropertySymbols,k=Object.prototype.propertyIsEnumerable;var w=Object.assign;var b=(o,t)=>{var r={};for(var e in o)h.call(o,e)&&t.indexOf(e)<0&&(r[e]=o[e]);if(o!=null&&g)for(var e of g(o))t.indexOf(e)<0&&k.call(o,e)&&(r[e]=o[e]);return r};import{useLocation as T}from"wouter";var i={onlyUseReplace:!1,basePrefetchTime:0};import{useRef as E,useLayoutEffect as A}from"react";import f from"querystring-number";var l=[],s={},m=()=>{let[o,t]=T(),r=E({});return A(()=>{r.current=f.parse(window.location.search)||{}},[window.location.search]),{localtion:o,params:r.current,prefetch:e=>{let n=s[e];n&&n()},replace:(e,n)=>{typeof window!="undefined"&&(n&&(e+="?"+f.stringify(n)),t(e,{replace:!0}))},push:(e,n)=>{typeof window!="undefined"&&(n&&(e+="?"+f.stringify(n)),l.push({url:e,top:window.scrollY}),i.onlyUseReplace?t(e,{replace:!0}):t(e,{replace:!1}))},back:()=>{if(typeof window=="undefined")return;l.pop();let e=l.pop()||{top:0,url:"/"};i.onlyUseReplace?(t(e.url,{replace:!0}),setTimeout(()=>{window.scrollTo({top:e.top})})):history.back()}}};import a,{lazy as F,Suspense as P}from"react";import{Route as R}from"wouter";var z=a.createElement("div",{style:{all:"unset"}}),M=({path:o,component:t,loading:r})=>{let e=s[o];return e||(s[o]=F(t),e=s[o]),a.createElement(R,{path:o},a.createElement(P,{fallback:z},a.createElement(e,null)))};import U,{useEffect as q}from"react";var v=y=>{var{href:o,params:t,replace:r,onMouseEnter:e,onClick:n,onTouchEnd:H,onMouseUp:S,type:W,className:x,prefetch:u}=y,C=b(y,["href","params","replace","onMouseEnter","onClick","onTouchEnd","onMouseUp","type","className","prefetch"]);u===void 0&&(u=i.basePrefetchTime);let p=m();function L(c){e&&e(c),p.prefetch(o)}function d(c){n&&n(c),o==="back"?p.back():r?p.replace(o,t):p.push(o,t)}return q(()=>{u>0&&setTimeout(()=>{p.prefetch(o)},u)},[]),U.createElement("button",w({type:"button",className:"focus:outline-none "+x,onTouchEnd:d,onMouseUp:d,onMouseEnter:L},C))};export{M as Aoute,v as Link,i as aouterConfig,s as lazyCache,m as useAoute};
